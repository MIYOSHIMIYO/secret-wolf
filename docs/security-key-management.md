# セキュリティキー管理方針

## 1. 概要

本ドキュメントは、秘密人狼ゲームのウェブブラウザ配布移行に伴う、セキュリティキーと証明書の管理方針を定めます。

## 2. 現状の確認

### 2.1 リポジトリ内のキーファイル
- **secret-wolf-key.jks**: リポジトリ直下に存在
- **用途**: Androidアプリの署名用キーストア
- **現在の状況**: ネイティブアプリ用のため、ウェブ版では不要

## 3. ウェブ版移行後の対応

### 3.1 不要なキーファイルの処理
- **secret-wolf-key.jks**: ウェブ版では使用しないため削除対象
- **削除タイミング**: Phase 1完了後
- **バックアップ**: 削除前に安全な場所にバックアップ

### 3.2 ウェブ版で必要なセキュリティ要素
- **SSL証明書**: Cloudflareが自動管理
- **APIキー**: Stripe、Google Analytics等のAPIキー
- **環境変数**: 機密情報の環境変数化

## 4. セキュリティキー管理方針

### 4.1 APIキー管理
- **環境変数化**: すべてのAPIキーを環境変数で管理
- **アクセス制限**: 必要最小限の権限のみ付与
- **定期ローテーション**: 定期的なキーの更新

### 4.2 証明書管理
- **SSL証明書**: Cloudflareの自動更新に依存
- **監視**: 証明書の有効期限監視
- **バックアップ**: 証明書のバックアップ（必要に応じて）

## 5. 移行計画

### 5.1 Phase 1完了時
- [ ] 不要なキーファイルの特定
- [ ] バックアップの作成
- [ ] リポジトリからの削除
- [ ] セキュリティレビューの実施

### 5.2 継続的監視
- [ ] APIキーの有効性確認
- [ ] アクセスログの監視
- [ ] セキュリティインシデントの対応

## 6. リスク管理

### 6.1 キー漏洩リスク
- **対策**: 環境変数化、アクセス制限
- **監視**: 異常なアクセスパターンの検出
- **対応**: 漏洩時の即座なキー無効化

### 6.2 証明書失効リスク
- **対策**: Cloudflareの自動更新
- **監視**: 証明書の有効期限監視
- **対応**: 手動更新手順の準備

## 7. まとめ

ウェブ版移行により、ネイティブアプリ用のセキュリティキーは不要となります。適切なバックアップと削除を行い、ウェブ版に必要なセキュリティ要素のみを管理することで、セキュリティリスクを最小化します。

---

**更新日**: 2024年12月
**バージョン**: 1.0
**承認者**: プロジェクト責任者
